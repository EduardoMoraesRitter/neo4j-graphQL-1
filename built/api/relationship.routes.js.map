{"version":3,"sources":["../../app/api/relationship.routes.js"],"names":[],"mappings":"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","file":"relationship.routes.js","sourcesContent":["module.exports = function(config,router){\r\n    \r\n    \"use strict\";\r\n\r\n    var relationship = require('./relationship')(config);\r\n\r\n  router.route('/relationships/visual/:id1/:id2').get(function (req, res) {\r\n\r\n        relationship.list.visual(req.params.id1,req.params.id2,req.query)\r\n          .then(function(data){\r\n               res.status(200).json(data);\r\n            })\r\n          .catch(function (err) {\r\n               res.status(500).json({error:err});\r\n           });\r\n    });\r\n    \r\n  router.route('/relationships/visual/:id').get(function (req, res) {\r\n\r\n        var options = req.query;\r\n        //possible options:\r\n        //format=compact \r\n        relationship.list.visual(req.params.id,undefined,options)\r\n          .then(function(data){\r\n               res.status(200).json(data);\r\n            })\r\n          .catch(function (err) {\r\n               res.status(500).json({error:err});\r\n           });\r\n    });\r\n    \r\n    \r\n\r\n    \r\n     router.route('/relationships/conceptual/:id').get(function (req, res) {\r\n\r\n        relationship.list.conceptual(req.params.id,req.query)\r\n          .then(function(data){\r\n               res.status(200).json(data);\r\n            })\r\n          .catch(function (err) {\r\n               res.status(500).json({error:err});\r\n           });\r\n    });\r\n    \r\n    router.route('/relationships/property/:id').get(function (req, res) {\r\n\r\n        relationship.list.property(req.params.id,req.query)\r\n          .then(function(data){\r\n               res.status(200).json(data);\r\n            })\r\n          .catch(function (err) {\r\n               res.status(500).json({error:err});\r\n           });\r\n    });\r\n    \r\n     router.route('/relationships/inferred/:id').get(function (req, res) {\r\n\r\n        relationship.list.inferred(req.params.id,req.query)\r\n          .then(function(data){\r\n               res.status(200).json(data);\r\n            })\r\n          .catch(function (err) {\r\n               res.status(500).json({error:err});\r\n           });\r\n    });\r\n    \r\n    \r\n    //used to be /edge/save\r\n      router.route('/relationship/save').post(function(req,res){\r\n\r\n          relationship.save(req.body.edge)//used to be req.body.e\r\n          .then(function(data){\r\n               res.status(200).json(data);\r\n            })\r\n          .catch(function (err) {\r\n               res.status(500).json({error:err});\r\n           });\r\n        \r\n    });\r\n    \r\n    //used to be /edge/delete\r\n    router.route('/relationship/delete').post(function(req,res){\r\n\r\n          relationship.delete(req.body.edge)\r\n          .then(function(data){\r\n               res.status(200).json(data);\r\n            })\r\n          .catch(function (err) {\r\n               res.status(500).json({error:err});\r\n           });\r\n        \r\n    });\r\n        \r\n  \r\n    \r\n\r\n\r\n  \r\n  \r\n\r\n    return router;\r\n\r\n};\r\n"]}