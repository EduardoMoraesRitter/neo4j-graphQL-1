{"version":3,"sources":["../src/headers.js"],"names":[],"mappings":";;;;;;AAAC;;;;;;kBACc,CAAC,GAAD,EAAM,GAAN,EAAW,IAAX,KAAoB;;AAEjC,MAAI,IAAI,OAAJ,CAAY,MAAZ,EAAoB;AACtB,SAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,iBAAO,OAAP,CAAe,MAAf,EAAuB,GAA3C,EAAgD;AAC9C,YAAM,SAAS,iBAAO,OAAP,CAAe,CAAf,CAAT,CADwC;AAE9C,UAAI,IAAI,OAAJ,CAAY,MAAZ,CAAmB,OAAnB,CAA2B,MAA3B,IAAqC,CAAC,CAAD,EAAI;AAC3C,YAAI,SAAJ,CAAc,6BAAd,EAA6C,IAAI,OAAJ,CAAY,MAAZ,CAA7C,CAD2C;AAE3C,cAF2C;OAA7C;KAFF;GADF;AASA,MAAI,SAAJ,CAAc,8BAAd,EAA8C,wCAA9C,EAXiC;AAYjC,MAAI,SAAJ,CAAc,8BAAd,EAA8C,+BAA9C,EAZiC;AAajC,MAAI,SAAJ,CAAc,kCAAd,EAAkD,IAAlD,EAbiC;AAcjC,SAdiC;CAApB","file":"headers.js","sourcesContent":["ï»¿import config from './server.config';\r\nexport default (req, res, next) => {\r\n  // Cors allow\r\n  if (req.headers.origin) {\r\n    for (let i = 0; i < config.origins.length; i++) {\r\n      const origin = config.origins[i];\r\n      if (req.headers.origin.indexOf(origin) > -1) {\r\n        res.setHeader('Access-Control-Allow-Origin', req.headers.origin);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\r\n  res.setHeader('Access-Control-Allow-Headers', 'X-Requested-With,content-type');\r\n  res.setHeader('Access-Control-Allow-Credentials', true);\r\n  next();\r\n};\r\n"]}